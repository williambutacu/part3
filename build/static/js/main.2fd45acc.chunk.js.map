{"version":3,"sources":["components/AddPerson.js","components/Person.js","components/Phonebook.js","components/Search.js","services/srv.js","components/Notification.js","components/App.js","index.js"],"names":["AddPerson","newName","phoneExists","nameExists","pAlreadyExist","nAlreadyExist","onChange","onSubmit","for","value","name","phone","type","Person","person","deletePerson","onClick","Phonebook","persons","deletePersonId","map","id","Search","search","baseUrl","axios","get","then","response","data","newObject","post","put","delete","Notification","message","className","App","useState","setNewName","setPersons","setSearch","setMessage","useEffect","personService","initialPersons","filter","length","personObject","changeMessage","msg","setTimeout","event","preventDefault","alert","target","prevValue","existing","find","p","window","confirm","catch","error","concat","ReactDOM","render","document","getElementById"],"mappings":"2LAEe,SAASA,EAAT,GAA0G,IAAtFC,EAAqF,EAArFA,QAAqBC,GAAgE,EAA5EC,WAA4E,EAAhED,aAA4BE,GAAoC,EAAnDC,cAAmD,EAApCD,eAAeE,EAAqB,EAArBA,SAAUC,EAAW,EAAXA,SACzG,OACI,gCACI,2CACN,uBAAMA,SAAUL,EAAaE,EAAeG,EAA5C,UACE,gCACA,uBAAOC,IAAI,OAAX,oBACE,uBAAOC,MAAOR,EAAQS,KAAMJ,SAAUA,EAAUI,KAAK,YAEvD,gCACA,uBAAOF,IAAI,QAAX,qBAEE,uBAAOC,MAAOR,EAAQU,MAAOL,SAAUA,EAAUI,KAAK,aAExD,8BACE,wBAAQE,KAAK,SAAb,yBCfK,SAASC,EAAT,GAAyC,IAAxBC,EAAuB,EAAvBA,OAAQC,EAAe,EAAfA,aACpC,OACI,mCAAOD,EAAOJ,KAAd,IAAqBI,EAAOH,MAC5B,wBAAQK,QAASD,EAAjB,uBCFO,SAASE,EAAT,GAA8C,IAA1BC,EAAyB,EAAzBA,QAAQC,EAAiB,EAAjBA,eAIvC,OACI,gCACK,yCACA,6BACND,EAAQE,KAAI,SAAAN,GACX,OACI,cAACD,EAAD,CAAQC,OAAQA,EAEhBC,aAAc,kBAAII,EAAeL,EAAOO,MADnCP,EAAOJ,cCZT,SAASY,EAAT,GAA8C,IAA7BC,EAA4B,EAA5BA,OAAOhB,EAAqB,EAArBA,SAAUD,EAAW,EAAXA,SAI7C,OACI,gCACI,gDACR,uBAAMC,SAAUA,EAAhB,UACE,uBAAOE,MAAOc,EAAQjB,SAAUA,IAChC,wBAAQM,KAAK,SAAb,0B,oBCTAY,EAAU,eAuBC,EApBF,WAEX,OADgBC,IAAMC,IAAIF,GACXG,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAkB5B,EAfA,SAAAC,GAEb,OADgBL,IAAMM,KAAKP,EAASM,GACrBH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAa5B,EAVA,SAACR,EAAIS,GAElB,OADgBL,IAAMO,IAAN,UAAaR,EAAb,YAAwBH,GAAMS,GAC/BH,MAAK,SAAAC,GAAQ,OAAIA,EAASC,SAQ5B,EALK,SAACR,GAEjB,OADeI,IAAMQ,OAAN,UAAgBT,EAAhB,YAA2BH,KCnBjC,SAASa,EAAT,GAAkC,IAAXC,EAAU,EAAVA,QAClC,OAAgB,OAAZA,EACO,KAIP,qBAAKC,UAAU,QAAf,SACGD,ICFX,IAmIeE,EAnIH,WAAO,IAAD,EAEgBC,mBAAS,CACvC5B,KAAK,GACLC,MAAM,KAJQ,mBAERV,EAFQ,KAECsC,EAFD,OAMgBD,mBAAS,CAAC,CACxC5B,KAAM,GACNC,MAAM,MARQ,mBAMRO,EANQ,KAMCsB,EAND,OAUYF,mBAAS,IAVrB,mBAUTf,EAVS,KAUDkB,EAVC,OAWcH,mBAAS,IAXvB,mBAWTH,EAXS,KAWAO,EAXA,KAqBlBC,qBARA,WACEC,IAECjB,MAAK,SAAAkB,GACJL,EAAWK,QAIA,IAGb,IAAM1C,EAAYe,EAAQ4B,QAAO,SAAAhC,GAAM,OAAEA,EAAOJ,OAAOT,EAAQS,QAAMqC,OAAO,EACtE7C,EAAagB,EAAQ4B,QAAO,SAAAhC,GAAM,OAAEA,EAAOH,QAAQV,EAAQU,SAAOoC,OAAO,EAYjF,IAAMC,EAAa,CACjBtC,KAAKT,EAAQS,KACbC,MAAMV,EAAQU,OAGhB,SAASsC,EAAcC,GAErBR,EAAW,GAAD,OAAIQ,IACdC,YAAW,WACTT,EAAW,QACX,KAmEJ,OACI,gCACA,cAACpB,EAAD,CAAQf,SA7BZ,SAA4B6C,GAG1B,OAFAA,EAAMC,iBACcnC,EAAQ4B,QAAO,SAAAhC,GAAM,OAAEA,EAAOJ,OAAOa,KAAQwB,OAAO,EACnDO,MAAM,GAAD,OAAI/B,EAAJ,yBAAmC+B,MAAM,6BA0B3BhD,SAlC1C,SAA4B8C,GAC1BX,EAAUW,EAAMG,OAAO9C,QAiC+Cc,OAAQA,IAC1E,cAACvB,EAAD,CAAWC,QAASA,EAASE,WAAYA,EAAYD,YAAaA,EAChEI,SA1FR,SAAsB8C,GAAQ,IAAD,EACJA,EAAMG,OAAtB9C,EADoB,EACpBA,MAAQC,EADY,EACZA,KACf6B,GAAW,SAAAiB,GACT,OAAO,2BAAKA,GAAZ,kBACG9C,EAAOD,QAuFNF,SArER,SAAsB6C,GACpBA,EAAMC,iBAER,IAAMI,EAAWvC,EAAQwC,MAAK,SAAAC,GAAC,OAAEA,EAAEjD,OAAOT,EAAQS,QAC9C+C,EACOG,OAAOC,QAAP,UAAkB5D,EAAQS,KAA1B,0EAEPkC,EACMa,EAASpC,GAAG2B,GACnBrB,MAAK,SAAAC,GAAWY,EAAWtB,EAAQE,KAAI,SAAAN,GAAM,OAAEA,EAAOO,KAAOoC,EAASpC,GAAIP,EAASc,MAClFW,EAAW,CAAC7B,KAAK,GAAIC,MAAM,QAC5BmD,OAAM,SAAAC,GAAK,OACVd,EAAcc,EAAMnC,SAASC,KAAKkC,UAIpCnB,EACQI,GACPrB,MAAK,SAAAC,GACJY,EAAWtB,EAAQ8C,OAAOpC,IAC1BW,EAAW,CAAC7B,KAAK,GAAIC,MAAM,KAC3BsC,EAAc,GAAD,OAAID,EAAatC,KAAjB,mCAEdoD,OAAM,SAAAC,GAAK,OACVd,EAAcc,EAAMnC,SAASC,KAAKkC,WA+C9B3D,cAxBR,SAAuBgD,GACrBA,EAAMC,iBACNC,MAAM,GAAD,OAAIrD,EAAQU,MAAZ,wCAwBD,cAACM,EAAD,CAAWC,QAASA,EAClBC,eAtBR,SAAwBE,GACtBuC,OAAOC,QAAQ,+CACdjB,EACcvB,GACbM,KAAKa,EAAWtB,EAAQ4B,QAAO,SAAAhC,GAAM,OAAEA,EAAOO,KAAKA,OACnDyC,OAAM,SAAAC,GACLT,MAAM,oCAENA,MAAM,yBAgBN,cAACpB,EAAD,CAAcC,QAASA,Q,MC9H5B8B,IAASC,OAEL,cAAC,EAAD,IAEFC,SAASC,eAAe,W","file":"static/js/main.2fd45acc.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nexport default function AddPerson({newName, nameExists, phoneExists, nAlreadyExist, pAlreadyExist, onChange, onSubmit}) {\r\n    return (\r\n        <div>\r\n            <h2>Phonebook</h2>\r\n      <form onSubmit={phoneExists? pAlreadyExist: onSubmit}>\r\n        <div>\r\n        <label for=\"name\">Name: </label>\r\n          <input value={newName.name} onChange={onChange} name=\"name\"/>\r\n        </div>\r\n        <div>\r\n        <label for=\"phone\">Phone: </label>\r\n\r\n          <input value={newName.phone} onChange={onChange} name=\"phone\" />\r\n        </div>\r\n        <div>\r\n          <button type=\"submit\">add</button>\r\n        </div>\r\n      </form>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Person({person, deletePerson}) {\r\n    return (\r\n        <li > {person.name} {person.phone}\r\n        <button onClick={deletePerson}>delete</button>\r\n        </li>\r\n\r\n    )\r\n}\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nexport default function Phonebook({persons,deletePersonId}) {\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n             <h2>Numbers</h2>\r\n             <ul>\r\n      {persons.map(person=>{\r\n        return (\r\n            <Person person={person}\r\n            key={person.name}\r\n            deletePerson={()=>deletePersonId(person.id)} />\r\n        )\r\n      })}\r\n      </ul>\r\n        </div>\r\n    )\r\n}\r\n","import React from 'react'\r\n\r\nexport default function Search({search,onSubmit, onChange}) {\r\n\r\n\r\n\r\n    return (\r\n        <div>\r\n            <h2>Search by name</h2>\r\n    <form onSubmit={onSubmit}>\r\n      <input value={search} onChange={onChange} />\r\n      <button type=\"submit\">Search</button>\r\n    </form>\r\n        </div>\r\n    )\r\n}\r\n","import axios from \"axios\"\r\n\r\nconst baseUrl = '/api/persons'\r\n\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseUrl)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const create = newObject => {\r\n    const request = axios.post(baseUrl, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n  \r\n  const update = (id, newObject) => {\r\n    const request = axios.put(`${baseUrl}/${id}`, newObject)\r\n    return request.then(response => response.data)\r\n  }\r\n\r\n  const deletePerson= (id) =>{\r\n      const request= axios.delete(`${baseUrl}/${id}`)\r\n      return request\r\n  }\r\n  \r\n  export default { \r\n    getAll, \r\n    create, \r\n    update,\r\n    deletePerson\r\n  }\r\n\r\n","import React from 'react'\r\n\r\nexport default function Notification({message}) {\r\n    if (message === null) {\r\n        return null\r\n      }\r\n    \r\n      return (\r\n        <div className=\"error\">\r\n          {message}\r\n        </div>\r\n      )\r\n}\r\n","import React, { useEffect, useState } from 'react'\nimport AddPerson from './AddPerson'\nimport Phonebook from './Phonebook'\nimport Search from './Search'\nimport personService from \"../services/srv\"\nimport Notification from './Notification'\n\nconst App = () => {\n\n  const [ newName, setNewName ] = useState({\n    name:\"\",\n    phone:\"\"\n  })\n  const [ persons, setPersons ] = useState([{\n    name: \"\",\n    phone:\"\"\n  }]) \n  const [search, setSearch] = useState(\"\")\n  const [message, setMessage] = useState(\"\")\n\nfunction hook(){\n  personService\n  .getAll()\n  .then(initialPersons=>{\n    setPersons(initialPersons)\n  })\n}\n\nuseEffect(hook,[])\n\n\n  const nameExists= persons.filter(person=>person.name===newName.name).length>0;\n  const phoneExists= persons.filter(person=>person.phone===newName.phone).length>0;\n\n\nfunction handleChange(event) {\n  const {value , name} = event.target;\n  setNewName(prevValue=>{\n    return { ...prevValue,\n      [name]: value\n    }\n  })\n}\n\nconst personObject={\n  name:newName.name,\n  phone:newName.phone\n}\n\nfunction changeMessage(msg){\n \n  setMessage(`${msg}`)\n  setTimeout(()=>{\n    setMessage(null)\n  },5000)\n}\n\nfunction handleSubmit(event) {\n  event.preventDefault();\n\nconst existing = persons.find(p=>p.name===newName.name)\nif (existing){\n  const ok=window.confirm(`${newName.name} is already in the phonebook, replace the old number with a new one?`)\n  if (ok){\n    personService\n  .update(existing.id,personObject)\n  .then(response=>{setPersons(persons.map(person=>person.id !== existing.id? person : response))\n    setNewName({name:\"\", phone:\"\"})})\n  .catch(error=>\n    changeMessage(error.response.data.error))\n  }\n}\nelse{\n  personService\n  .create(personObject)\n  .then(response=>{      \n    setPersons(persons.concat(response))\n    setNewName({name:\"\", phone:\"\"})\n    changeMessage(`${personObject.name} was added to the phonebook`)\n  })\n  .catch(error=>\n    changeMessage(error.response.data.error))\n\n  }\n  \n\n  \n}\n\nfunction handleSearchChange(event) {\n  setSearch(event.target.value)\n\n}\n\nfunction handleSearchSubmit(event){\n  event.preventDefault();\n  const searchExists= persons.filter(person=>person.name===search).length>0;\n  return(searchExists? alert(`${search} is in the phonebook`): alert(\"There is no such contact\"))\n}\n\n\n\n\n\nfunction pAlreadyExist(event) {\n  event.preventDefault();\n  alert(`${newName.phone} already exists in the phonebook`)\n}\n\nfunction deletePersonId(id) {\n  window.confirm(\"Are you sure you want to delete this person\") ?\n   personService\n   .deletePerson(id)\n   .then(setPersons(persons.filter(person=>person.id!==id))) \n   .catch(error=>{\n     alert(\"User has already been removed\")\n   })\n   : alert(\"Nobody was deleted\")\n}\n\n\nreturn (\n    <div>\n    <Search onSubmit={handleSearchSubmit} onChange={handleSearchChange} search={search}/>\n      <AddPerson newName={newName} nameExists={nameExists} phoneExists={phoneExists} \n        onChange={handleChange}\n        onSubmit={handleSubmit}\n       \n        pAlreadyExist={pAlreadyExist}\n      />\n      <Phonebook persons={persons}\n        deletePersonId={deletePersonId}\n      />\n     <Notification message={message} />\n    </div>\n  )\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css'\n\n\n\nReactDOM.render(\n  \n    <App />\n  ,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}